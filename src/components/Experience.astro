---
import { Picture } from 'astro:assets';
import ExperienceCard from './ExperienceCard.astro';
import Suitcase from './Suitcase.astro';
import { jobs } from '../data/experience';
import tornPaper from '../assets/images/torn-paper.png';
---

<section id="experience" class="relative z-10 w-full overflow-visible">
    <div
        class="absolute top-0 z-10 -translate-y-3/4"
        style="left: calc(-1 * clamp(1rem, 5vw, 6rem)); right: calc(-1 * clamp(1rem, 5vw, 6rem));"
    >
        <Picture src={tornPaper} formats={['avif', 'webp']} alt="Decorative torn paper divider" loading="lazy" width={1370} height={104} class="w-full" />
    </div>

    <div class="relative z-20 px-6 pt-24 md:pt-32">
        <div class="mx-auto w-full max-w-4xl">
            <h2
                id="experience-heading"
                class="gsap-animated mb-16 font-bold md:mb-24"
                style="font-family: var(--font-display); font-size: clamp(5rem, 14vw, 16rem); letter-spacing: 0.04em; opacity: 0; clip-path: inset(0 100% 0 0);"
            >
                EXPERIENCE
            </h2>
        </div>
        <Suitcase />
    </div>

    <div
        id="experience-cards"
        class="relative z-20"
        style="margin-left: calc(-1 * clamp(1rem, 5vw, 6rem)); margin-right: calc(-1 * clamp(1rem, 5vw, 6rem));"
    >
        {jobs.map((job, i) => (
            <ExperienceCard
                company={job.company}
                role={job.role}
                duration={job.duration}
                bullets={job.bullets}
                url={job.url}
                image={job.image}
                imageAlt={job.imageAlt}
                index={i}
                total={jobs.length}
            />
        ))}
    </div>
</section>
